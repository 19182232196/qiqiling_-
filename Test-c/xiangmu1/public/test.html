<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="jquery-ui-1.13.2.custom/jquery-ui.css"/>
    <link rel="stylesheet" href="jquery-ui-1.13.2.custom/jquery-ui.structure.css">
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="jquery-ui-1.13.2.custom/jquery-ui.js"></script>
    <script src="js/bootstrap.bundle.js"></script>
    <style type="text/css">
        body {
            margin: 0;
            overflow: hidden;
        }

        .wrapper {
            position: relative;
            width: 500px;
            height: 500px; /* 修改为你需要的高度值 */
            perspective: 1000px; /* 添加透视效果 */
        }

        .contain {
            display: flex;
            transition: transform 0.5s ease-in-out;
            transform-style: preserve-3d; /* 保持3D效果 */
        }

        .contain .slide {
            flex: 0 0 100%; /* 每张图独占一行 */
            margin-right: 10px; /* 图片之间的间隔 */
            cursor: pointer; /* 添加鼠标指针 */
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0; /* 初始透明度为0 */
            transition: opacity 0.5s ease-in-out;
        }

        .contain img {
            width: 500px;
            height: 500px;
            object-fit: cover;
            transform: translateZ(200px); /* 设置图片在z轴上的位移，调整值以改变3D效果的深度 */
        }

        .btn {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
        }

        .btn span {
            width: 12px;
            height: 12px;
            background-color: #bbb;
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
        }

        .btn span.active {
            background-color: #333;
        }

        .prev, .next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }

        .prev {
            left: 10px;
        }

        .next {
            right: 10px;
        }

        /* 预览图容器样式 */
        .preview-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 999;
        }

        /* 预览图样式 */
        .preview-container img {
            max-width: 80%;
            max-height: 80%;
            border: 2px solid #fff;
            border-radius: 8px;
        }

        /* 关闭按钮样式 */
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 18px;
            color: #fff;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="contain">
            <div class="slide"><img src="img/130105.png" alt=""></div>
            <div class="slide"><img src="img/130115.png" alt=""></div>
            <div class="slide"><img src="img/134207.png" alt=""></div>
            <div class="slide"><img src="img/135744.png" alt=""></div>
            <div class="slide"><img src="img/bg.jpg" alt=""></div>
            <div class="slide"><img src="img/bg.jpg" alt=""></div>
        </div>
        <div class="btn">
            <span class="active"></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
        <a href="javascript:void(0);" class="prev">&lt;</a>
        <a href="javascript:void(0);" class="next">&gt;</a>
    </div>

    <!-- 预览图容器 -->
    <div class="preview-container" id="previewContainer">
        <span class="close-btn" onclick="closePreview()">&times;</span>
        <!-- 单击关闭预览 -->
        <img src="#" alt="" id="previewImage">
    </div>

    <script type="text/javascript">
        $(document).ready(function() {
            var currentIndex = 0;
            var totalItems = $('.contain img').length;

function showCurrent() {
    // 限制 currentIndex 的范围在 0 到 totalItems - 1 之间
    currentIndex = (currentIndex + totalItems) % totalItems;

    $('.contain .slide').css('opacity', '0'); /* 隐藏所有图片 */
    $('.contain .slide:eq(' + currentIndex + ')').css('opacity', '1'); /* 显示当前图片 */
    $('.btn span').removeClass('active');
    $('.btn span:eq(' + currentIndex + ')').addClass('active');
}


            $('.btn span').click(function() {
                currentIndex = $(this).index();
                showCurrent();
            });

            $('.prev').click(function() {
                currentIndex = (currentIndex - 1 + totalItems) % totalItems;
                showCurrent();
            });

            $('.next').click(function() {
                currentIndex = (currentIndex + 1) % totalItems;
                showCurrent();
            });

            // 单击图片时显示预览
            $('.contain img').click(function() {
                var imageUrl = $(this).attr('src');
                $('#previewImage').attr('src', imageUrl);
                $('#previewContainer').fadeIn();
            });
        });

        // 关闭预览
        function closePreview() {
            $('#previewContainer').fadeOut();
        }
    </script>
</body>
</html>
